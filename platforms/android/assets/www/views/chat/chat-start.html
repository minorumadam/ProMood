<ion-view title="<span>Chat</span>"><ion-content has-bouncing="false"><ion-scroll scroll="auto" class="height100" has-bouncing="false"><div class="color-bar-striped tleft">{{$root.party.name}}<span class="view-profile" ng-click="chatViewProfile()" ng-show="$root.party.name != 'Anonymous'">View Profile</span></div><div class="row row-center" id="chat-messeges" class="bottom-line" ng-repeat="message in $root.messages" on-finish-render="ngRepeatFinished" on-last-repeat=""><div class="col bottom-line-chat"><p style="font-size: 18px" ng-class="{tleft: message.origin == 'send',  pink: message.origin == 'send', tright: message.origin == 'receive', blue: message.origin == 'receive'}">{{message.data}}</p><div class="hour-chat" ng-class="{fright: message.origin == 'send', fleft: message.origin == 'receive'}">{{message.time|date:timeShort}}</div></div></div><div id="last-row" class="row last-row"></div></ion-scroll></ion-content><div id="chatFooter" class="bar bar-footer margin0 padding0 chat-input"><!--<input dir="ltr" class="text-input" id="textInput" ng-focus="setFocusOnTextarea(true, 'chatFooter');" ng-blur="setFocusOnTextarea(false, 'barFooter');" ng-model="chatSource.msg" placeholder="Type Here" value="Type Here"/>--><textarea dir="ltr" class="msd-elastic chatInput" id="textInput" ng-model="chatSource.msg" placeholder="Type Here" value="Type Here"></textarea><input class="text-send uppercase blue" type="button" value="Send" id="btnSend" ng-click="send(chatSource.msg)"></div></ion-view>